/* 1. 전체 기본 설정 */
body {
  margin: 0;
  background-color: #abc1d1; /* 카톡 전용 배경색 */
  font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  display: flex;
  justify-content: center;
}

/* 2. 공통 레이아웃 (로비와 게임 화면 공통) */
.lobby-container, .welcomegame {
  width: 100%;           /* 기본은 100% */
  max-width: 1100px;     /* PC에서는 최대 1100px까지만 커짐 */
  margin: 0 auto;
  box-sizing: border-box; /* 패딩이 너비에 영향을 주지 않도록 */
}

.welcomegame {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background-color: #f0f0f0;
  overflow: hidden;
}

/* 3. 로비 화면 (풀스크린 느낌) */
.lobby-container {
  height: 100vh;
  background: linear-gradient(135deg, #2c3e50 0%, #000000 100%);
  color: #70a1ff;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  /* body의 중앙 정렬과 충돌 방지를 위해 너비 재설정 */
  width: 100vw;
  max-width: none;
}

/* 4. 플레이어 리스트 및 게임 상단 */
.player-list-side {
  background: #fff;
  border-bottom: 2px solid #ddd;
  padding: 10px;
  z-index: 10;
}

.player-list-side ul {
  display: flex;
  justify-content: space-around;
  list-style: none;
  padding: 0;
  margin: 0;
}

/* 5. 채팅 영역 핵심 */
.game-player {
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow: hidden;
}

#log {
  flex: 1;
  overflow-y: auto;
  padding: 10px;
  background: #f9f9f9;
  display: flex;
  flex-direction: column; /* 메시지들이 위에서 아래로 쌓이게 */
}

/* 6. 말풍선 디자인 (카톡 스타일) */
.chat-item {
  position: relative;
  margin-top: 20px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding-left: 56px;
  width: calc(100% - 70px);
}

.chat-item.me {
  align-items: flex-end;
  padding-left: 0;
  padding-right: 56px;
}

.chat-item::before {
  content: "";
  position: absolute;
  left: 0; top: 0;
  width: 40px; height: 40px;
  background: url(https://marshall-ku-tgd.github.io/tmpImages/cat.png) center no-repeat;
  background-size: cover;
  border-radius: 5px;
}

.chat-item.me::before { left: auto; right: 0; }

.message {
  position: relative;
  display: inline-block;
  background: #fff;
  border-radius: 0.4em;
  padding: 8px 12px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  max-width: 80%; /* 너무 길어지지 않게 */
}

.chat-item.me .message { background: #fee500; }

/* 말풍선 꼬리 */
.chat-item:not(.me) .message::after {
  content: ""; position: absolute; left: -10px; top: 10px;
  border: 10px solid transparent; border-right: 10px solid #fff;
}

.chat-item.me .message::after {
  content: ""; position: absolute; right: -10px; top: 10px;
  border: 10px solid transparent; border-left: 10px solid #fee500;
}

/* 7. 입력창 및 폰트 (모바일 줌 방지 핵심) */
input, textarea, button {
  font-size: 16px !important; /* 16px 미만이면 iOS 자동 줌 발생 */
}

.input-area {
  display: flex;
  padding: 15px;
  background: #fff;
  gap: 10px;
}

.input-area input {
  flex: 1;
  padding: 12px;
  border-radius: 5px;
  border: 1px solid #ddd;
}

/* 8. 반응형 대응 (모바일) */
@media (max-width: 600px) {
  .welcomegame, .lobby-container {
    width: 100%;
    margin: 0;
  }

  .player-grid {
    grid-template-columns: repeat(2, 1fr); /* 모바일은 2열로 */
    gap: 15px;
  }

  .player-list-side ul {
    font-size: 12px; /* 글자 크기 조절 */
  }
}

/* 9. 기타 애니메이션 및 유틸리티 */
.meta { font-size: 12px; margin-bottom: 5px; color: #555; }
#log::-webkit-scrollbar { width: 6px; }
#log::-webkit-scrollbar-thumb { background-color: #ccc; border-radius: 10px; }